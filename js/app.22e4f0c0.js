(function(t){function e(e){for(var s,r,u=e[0],o=e[1],d=e[2],c=0,p=[];c<u.length;c++)r=u[c],i[r]&&p.push(i[r][0]),i[r]=0;for(s in o)Object.prototype.hasOwnProperty.call(o,s)&&(t[s]=o[s]);l&&l(e);while(p.length)p.shift()();return a.push.apply(a,d||[]),n()}function n(){for(var t,e=0;e<a.length;e++){for(var n=a[e],s=!0,u=1;u<n.length;u++){var o=n[u];0!==i[o]&&(s=!1)}s&&(a.splice(e--,1),t=r(r.s=n[0]))}return t}var s={},i={app:0},a=[];function r(e){if(s[e])return s[e].exports;var n=s[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,r),n.l=!0,n.exports}r.m=t,r.c=s,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)r.d(n,s,function(e){return t[e]}.bind(null,s));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="/vue-nodejs-students-roll/";var u=window["webpackJsonp"]=window["webpackJsonp"]||[],o=u.push.bind(u);u.push=e,u=u.slice();for(var d=0;d<u.length;d++)e(u[d]);var l=o;a.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"034f":function(t,e,n){"use strict";var s=n("64a9"),i=n.n(s);i.a},"56d7":function(t,e,n){"use strict";n.r(e);var s=n("2b0e"),i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"small-container",attrs:{id:"app"}},[n("h1",[t._v("Students")]),n("student-form",{on:{"add:student":t.addStudent}}),n("student-table",{attrs:{students:t.students},on:{"delete:student":t.deleteStudent,"edit:student":t.editStudent}})],1)},a=[],r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"student-form"}},[n("form",{on:{submit:function(e){return e.preventDefault(),t.handleSubmit(e)}}},[n("label",[t._v("Student Name")]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.student.name,expression:"student.name"}],ref:"first",class:{"has-error":t.submitting&&t.invalidName},attrs:{type:"text"},domProps:{value:t.student.name},on:{focus:t.clearStatus,keypress:t.clearStatus,input:function(e){e.target.composing||t.$set(t.student,"name",e.target.value)}}}),n("label",[t._v("Student Email")]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.student.email,expression:"student.email"}],class:{"has-error":t.submitting&&t.invalidEmail},attrs:{type:"text"},domProps:{value:t.student.email},on:{focus:t.clearStatus,input:function(e){e.target.composing||t.$set(t.student,"email",e.target.value)}}}),n("label",[t._v("Web Site")]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.student.website,expression:"student.website"}],class:{"has-error":t.submitting&&t.invalidWebSite},attrs:{type:"text"},domProps:{value:t.student.website},on:{focus:t.clearStatus,input:function(e){e.target.composing||t.$set(t.student,"website",e.target.value)}}}),n("label",[t._v("Phone")]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.student.phone,expression:"student.phone"}],class:{"has-error":t.submitting&&t.invalidPhone},attrs:{type:"text"},domProps:{value:t.student.phone},on:{focus:t.clearStatus,input:function(e){e.target.composing||t.$set(t.student,"phone",e.target.value)}}}),t.error&&t.submitting?n("p",{staticClass:"error-message"},[t._v("\n      ! Please provide values for required fields\n    ")]):t._e(),t.success?n("p",{staticClass:"success-message"},[t._v("\n      Student successfully added\n    ")]):t._e(),n("button",[t._v("Add Student")])])])},u=[],o={name:"student-form",data(){return{submitting:!1,error:!1,success:!1,student:{name:"",email:"",website:"",phone:""}}},methods:{handleSubmit(){this.submitting=!0,this.clearStatus(),this.invalidName||this.invalidEmail||this.invalidWebSite||this.invalidPhone?this.error=!0:(this.$emit("add:student",this.student),this.$refs.first.focus(),this.student={name:"",email:"",website:"",phone:""},this.error=!1,this.success=!0,this.submitting=!1)},clearStatus(){this.success=!1,this.error=!1}},computed:{invalidName(){return""===this.student.name},invalidEmail(){return""===this.student.email},invalidWebSite(){return""===this.student.website},invalidPhone(){return""===this.student.phone}}},d=o,l=(n("db73"),n("2877")),c=Object(l["a"])(d,r,u,!1,null,"f57fccc8",null),p=c.exports,m=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"student-table"}},[t.students.length<1?n("p",{staticClass:"empty-table"},[t._v("\n    No students\n  ")]):t._e(),n("table",{attrs:{id:"students"}},[t._m(0),n("tbody",t._l(t.students,function(e){return n("tr",{key:e.id},[t.editing===e.id?n("td",[n("input",{directives:[{name:"model",rawName:"v-model",value:e.name,expression:"student.name"}],staticClass:"edit",attrs:{type:"text"},domProps:{value:e.name},on:{input:function(n){n.target.composing||t.$set(e,"name",n.target.value)}}})]):n("td",[t._v(t._s(e.name))]),t.editing===e.id?n("td",[n("input",{directives:[{name:"model",rawName:"v-model",value:e.email,expression:"student.email"}],staticClass:"edit",attrs:{type:"text"},domProps:{value:e.email},on:{input:function(n){n.target.composing||t.$set(e,"email",n.target.value)}}})]):n("td",[t._v(t._s(e.email))]),t.editing===e.id?n("td",[n("input",{directives:[{name:"model",rawName:"v-model",value:e.website,expression:"student.website"}],staticClass:"edit",attrs:{type:"text"},domProps:{value:e.website},on:{input:function(n){n.target.composing||t.$set(e,"website",n.target.value)}}})]):n("td",[t._v(t._s(e.website))]),t.editing===e.id?n("td",[n("input",{directives:[{name:"model",rawName:"v-model",value:e.phone,expression:"student.phone"}],staticClass:"edit",attrs:{type:"text"},domProps:{value:e.phone},on:{input:function(n){n.target.composing||t.$set(e,"phone",n.target.value)}}})]):n("td",[t._v(t._s(e.phone))]),t.editing===e.id?n("td",{staticClass:"group"},[n("button",{on:{click:function(n){return t.editStudent(e)}}},[t._v("Save")]),n("button",{staticClass:"muted-button",on:{click:function(n){return t.cancelEdit(e)}}},[t._v("Cancel")])]):n("td",{staticClass:"group"},[n("button",{on:{click:function(n){return t.editMode(e)}}},[t._v("Edit")]),n("button",{on:{click:function(n){return t.$emit("delete:student",e.id)}}},[t._v("Delete")])])])}),0)])])},h=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("thead",[n("tr",[n("th",[t._v("Student Name")]),n("th",[t._v("Student Email")]),n("th",[t._v("Web Site")]),n("th",[t._v("Phone")]),n("th",[t._v("Actions")])])])}],v={name:"student-table",props:{students:Array},data(){return{editing:null}},methods:{editMode(t){this.cachedStudent=Object.assign({},t),this.editing=t.id},cancelEdit(t){Object.assign(t,this.cachedStudent),this.editing=null},editStudent(t){""!==t.name&&""!==t.email&&""!==t.website&&""!==t.phone&&(this.$emit("edit:student",t.id,t),this.editing=null)}}},f=v,b=(n("d2ef"),Object(l["a"])(f,m,h,!1,null,"5375db9b",null)),g=b.exports,y={name:"App",components:{StudentTable:g,StudentForm:p},data(){return{students:[]}},mounted(){this.getStudents()},methods:{async getStudents(){try{const e=await fetch("https://jsonplaceholder.typicode.com/users"),n=await e.json();this.students=n}catch(t){console.error(t)}},async addStudent(t){try{const n=await fetch("https://jsonplaceholder.typicode.com/users",{method:"POST",body:JSON.stringify(t),headers:{"Content-type":"application/json; charset=UTF-8"}}),s=await n.json();this.students=[...this.students,s]}catch(e){console.error(e)}},async deleteStudent(t){try{await fetch(`https://jsonplaceholder.typicode.com/users/${t}`,{method:"DELETE"}),this.students=this.students.filter(e=>e.id!==t)}catch(e){console.error(e)}},async editStudent(t,e){try{const s=await fetch(`https://jsonplaceholder.typicode.com/users/${t}`,{method:"PUT",body:JSON.stringify(e),headers:{"Content-type":"application/json; charset=UTF-8"}}),i=await s.json();this.students=this.students.map(e=>e.id===t?i:e)}catch(n){console.error(n)}}}},_=y,S=(n("034f"),Object(l["a"])(_,i,a,!1,null,null,null)),w=S.exports;s["a"].config.productionTip=!1,new s["a"]({render:t=>t(w)}).$mount("#app")},"64a9":function(t,e,n){},"7e5b":function(t,e,n){},d2ef:function(t,e,n){"use strict";var s=n("7e5b"),i=n.n(s);i.a},db73:function(t,e,n){"use strict";var s=n("fe3a"),i=n.n(s);i.a},fe3a:function(t,e,n){}});
//# sourceMappingURL=app.22e4f0c0.js.map